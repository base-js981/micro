# JWT Authentication Configuration
# This file contains JWT validation and claims extraction configuration

# For Nginx Plus - using ngx_http_auth_jwt_module
# Uncomment and configure if using Nginx Plus

# map $http_authorization $jwt_token {
#     "~Bearer (.+)" $1;
#     default "";
# }

# auth_jwt_key_file /etc/nginx/jwt/jwt.key;
# auth_jwt "API";

# For Nginx Open Source - using Lua script
# Include lua script in server block
# See lua/jwt-auth.lua for implementation

# Extract claims and set headers (after validation)
# For Nginx Plus:
# proxy_set_header X-User-Id $jwt_claim_userId;
# proxy_set_header X-User-Email $jwt_claim_email;
# proxy_set_header X-User-Roles $jwt_claim_roles;

# For Nginx Open Source with Lua:
# These headers are set by the Lua script

